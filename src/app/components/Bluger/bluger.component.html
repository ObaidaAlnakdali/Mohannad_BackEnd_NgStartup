<div class="container padding container_actions">
    <div class="d-flex justify-content-between">
        <div>
            <button type="button" class="btn btn-outline-info" (click)='goBack()'>
        <span class="fa fa-arrow-left"></span>
      </button>
        </div>
        <div>
            <div class="row">
                <div class="col col-6">
                    <button type="button" class="btn btn-outline-warning" data-toggle="collapse" data-target="#searchDiv" aria-expanded="false" aria-controls="searchDiv">
            <span class="fa fa-filter"></span>
          </button>
                </div>
                <div class="col col-6">
                    <button type="button" class="btn btn-outline-success" (click)='AddEntry()'>
            <span class="fa fa-plus"></span>
          </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="searchDiv" class="collapse container search_criteria_section">
    <form fxLayout='column' #searchform="ngForm">
        <mat-form-field>
            <input matInput placeholder="Title" type="text" name="TITLE" [(ngModel)]="searchModel.TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="DESCRIPTION" placeholder="Description" rows="3" [(ngModel)]="searchModel.DESCRIPTION"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput type="date" placeholder="Publish Of Date" name="PUBLISH_OF_DATE" [(ngModel)]="searchModel.PUBLISH_OF_DATE" />
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Author" type="text" name="AUTHOR" [(ngModel)]="searchModel.AUTHOR" />
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Author Info" type="text" name="AUTHOR_INFO" [(ngModel)]="searchModel.AUTHOR_INFO" />
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Content1 Title" type="text" name="CONTENT1_TITLE" [(ngModel)]="searchModel.CONTENT1_TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="CONTENT1" placeholder="Content1" rows="3" [(ngModel)]="searchModel.CONTENT1"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Content2 Title" type="text" name="CONTENT2_TITLE" [(ngModel)]="searchModel.CONTENT2_TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="CONTENT2" placeholder="Content2" rows="3" [(ngModel)]="searchModel.CONTENT2"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Content3 Title" type="text" name="CONTENT3_TITLE" [(ngModel)]="searchModel.CONTENT3_TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="CONTENT3" placeholder="Content3" rows="3" [(ngModel)]="searchModel.CONTENT3"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Content4 Title" type="text" name="CONTENT4_TITLE" [(ngModel)]="searchModel.CONTENT4_TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="CONTENT4" placeholder="Content4" rows="3" [(ngModel)]="searchModel.CONTENT4"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Content5 Title" type="text" name="CONTENT5_TITLE" [(ngModel)]="searchModel.CONTENT5_TITLE" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="CONTENT5" placeholder="Content5" rows="3" [(ngModel)]="searchModel.CONTENT5"></textarea>
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="QUATE" placeholder="Quate" rows="3" [(ngModel)]="searchModel.QUATE"></textarea>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Thanks About" type="text" name="THANKS_ABOUT" [(ngModel)]="searchModel.THANKS_ABOUT" />
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="REFERENCE_EN" placeholder="Reference En" rows="3" [(ngModel)]="searchModel.REFERENCE_EN"></textarea>
        </mat-form-field>
        <mat-form-field>
            <textarea matTextareaAutosize matInput name="REFERENCE_AR" placeholder="Reference Ar" rows="3" [(ngModel)]="searchModel.REFERENCE_AR"></textarea>
        </mat-form-field>
        <div class="row">
            <div class='col col-md-12'>
                <button [disabled]='!searchform.valid' mat-raised-button color='primary' type="button" class="btn btn-outline-secondary btn-block" (click)='ClearAndFetch()'>Search</button>
            </div>
        </div>
    </form>
</div>
<div class="container" (scrolled)="onScroll()" infiniteScroll [infiniteScrollDistance]="1" [infiniteScrollThrottle]="300">
    <div class='row'>
        <div *ngFor='let entry of data'>
            <div class="row">
                <div class="col col-lg-10">
                    <div class="container entry_section">
                        <form fxLayout='column' #f="ngForm">
                            <mat-form-field>
                                <input matInput placeholder="Title" type="text" name="TITLE" [(ngModel)]="entry.TITLE" required />
                                <mat-error>Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="DESCRIPTION" placeholder="Description" rows="3" [(ngModel)]="entry.DESCRIPTION" required></textarea>
                                <mat-error>Description is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput type="date" placeholder="Publish Of Date" name="PUBLISH_OF_DATE" [(ngModel)]="entry.PUBLISH_OF_DATE" required />
                                <mat-error>Publish Of Date is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Author" type="text" name="AUTHOR" [(ngModel)]="entry.AUTHOR" required />
                                <mat-error>Author is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Author Info" type="text" name="AUTHOR_INFO" [(ngModel)]="entry.AUTHOR_INFO" required />
                                <mat-error>Author Info is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Content1 Title" type="text" name="CONTENT1_TITLE" [(ngModel)]="entry.CONTENT1_TITLE" required />
                                <mat-error>Content1 Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="CONTENT1" placeholder="Content1" rows="3" [(ngModel)]="entry.CONTENT1" required></textarea>
                                <mat-error>Content1 is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Content2 Title" type="text" name="CONTENT2_TITLE" [(ngModel)]="entry.CONTENT2_TITLE" required />
                                <mat-error>Content2 Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="CONTENT2" placeholder="Content2" rows="3" [(ngModel)]="entry.CONTENT2" required></textarea>
                                <mat-error>Content2 is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Content3 Title" type="text" name="CONTENT3_TITLE" [(ngModel)]="entry.CONTENT3_TITLE" required />
                                <mat-error>Content3 Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="CONTENT3" placeholder="Content3" rows="3" [(ngModel)]="entry.CONTENT3" required></textarea>
                                <mat-error>Content3 is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Content4 Title" type="text" name="CONTENT4_TITLE" [(ngModel)]="entry.CONTENT4_TITLE" required />
                                <mat-error>Content4 Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="CONTENT4" placeholder="Content4" rows="3" [(ngModel)]="entry.CONTENT4" required></textarea>
                                <mat-error>Content4 is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Content5 Title" type="text" name="CONTENT5_TITLE" [(ngModel)]="entry.CONTENT5_TITLE" required />
                                <mat-error>Content5 Title is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="CONTENT5" placeholder="Content5" rows="3" [(ngModel)]="entry.CONTENT5" required></textarea>
                                <mat-error>Content5 is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="QUATE" placeholder="Quate" rows="3" [(ngModel)]="entry.QUATE" required></textarea>
                                <mat-error>Quate is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Thanks About" type="text" name="THANKS_ABOUT" [(ngModel)]="entry.THANKS_ABOUT" required />
                                <mat-error>Thanks About is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="REFERENCE_EN" placeholder="Reference En" rows="3" [(ngModel)]="entry.REFERENCE_EN" required></textarea>
                                <mat-error>Reference En is required</mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <textarea matTextareaAutosize matInput name="REFERENCE_AR" placeholder="Reference Ar" rows="3" [(ngModel)]="entry.REFERENCE_AR" required></textarea>
                                <mat-error>Reference Ar is required</mat-error>
                            </mat-form-field>
                            <mat-checkbox color="primary" name="EN" [(ngModel)]="entry.EN">En</mat-checkbox>
                            <mat-checkbox color="primary" name="FAVORITE" [(ngModel)]="entry.FAVORITE">Favorite</mat-checkbox>
                            <mat-checkbox color="primary" name="ACTIVE" [(ngModel)]="entry.ACTIVE">Active</mat-checkbox>
                            <mat-form-field>
                                <mat-select placeholder="Bluger Category" [(value)]='entry.BLUGER_CATEGORY_ID'>
                                    <mat-option>Choose</mat-option>
                                    <mat-option *ngFor='let Bluger_categoryEntry of Bluger_categoryList' [value]='Bluger_categoryEntry.BLUGER_CATEGORY_ID'>{{Bluger_categoryEntry.TITLE}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div class="row">
                                <div class='col col-md-6'>
                                    <button [disabled]='!f.valid' mat-raised-button color='primary' type="button" class="btn btn-outline-secondary btn-block" (click)='Edit(entry)'>Save</button>
                                </div>
                                <div class='col col-md-6'>
                                    <button mat-raised-button color='warn' type="button" class="btn btn-outline-danger btn-block" (click)="Delete(entry)">Delete</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class='col col-lg-2'>
                    <mat-tab-group dynamicHeight="true" *ngIf='entry.BLUGER_ID != -1'>
                        <mat-tab label="Images">
                            <image-upload *ngIf='entry.BLUGER_ID != -1' [url]="entry.MyURL" [uploadedFiles]="entry.MyUploadedImages" (removed)="onRemoved($event)" (uploadFinished)="imageFinishedUploading($event)" (uploadStateChanged)="onUploadStateChanged($event)">
                            </image-upload>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>
    </div>
</div>
